(()=>{"use strict";function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}const t=function(){function t(e){var n=e.baseUrl,r=e.headers;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this._baseUrl=n,this._headers=r}var n,r;return n=t,(r=[{key:"_checkResponse",value:function(e){return e.ok?e.json():Promise.reject("Error!"+e.statusText)}},{key:"getInitialCards",value:function(){return fetch(this._baseUrl+"/cards",{headers:this._headers}).then(this._checkResponse)}},{key:"getUserInfo",value:function(){return fetch(this._baseUrl+"/users/me",{method:"GET",headers:this._headers}).then(this._checkResponse)}},{key:"addCard",value:function(e){var t=e.name,n=e.link;return fetch(this._baseUrl+"/cards",{headers:this._headers,method:"POST",body:JSON.stringify({name:t,link:n})}).then(this._checkResponse)}},{key:"deleteCard",value:function(e){return fetch(this._baseUrl+"/cards/"+e,{headers:this._headers,method:"DELETE"}).then(this._checkResponse)}},{key:"editProfile",value:function(e){var t=e.name,n=e.about;return fetch(this._baseUrl+"/users/me",{method:"PATCH",headers:this._headers,body:JSON.stringify({name:t,about:n})}).then(this._checkResponse)}},{key:"editAvatar",value:function(e){var t=e.avatar;return fetch(this._baseUrl+"/users/me/avatar",{headers:this._headers,method:"PATCH",body:JSON.stringify({avatar:t})}).then(this._checkResponse)}},{key:"addLike",value:function(e){return fetch(this._baseUrl+"/cards/likes/"+e,{headers:this._headers,method:"PUT"}).then(this._checkResponse)}},{key:"removeLike",value:function(e){return fetch(this._baseUrl+"/cards/likes/"+e,{headers:this._headers,method:"DELETE"}).then(this._checkResponse)}}])&&e(n.prototype,r),t}();function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}const r=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._formSelector=t.formSelector,this._inputSelector=t.inputSelector,this._submitButtonSelector=t.submitButtonSelector,this._inactiveButtonClass=t.inactiveButtonClass,this._inputErrorClass=t.inputErrorClass,this._errorClass=t.errorClass,this._formElement=n,this._inputs=Array.from(this._formElement.querySelectorAll(this._inputSelector)),this._button=this._formElement.querySelector(this._submitButtonSelector)}var t,r;return t=e,(r=[{key:"_showInputError",value:function(e,t){var n=this._formElement.querySelector("#".concat(e.id,"-error"));e.classList.add(this._inputErrorClass),n.classList.add(this._errorClass),n.textContent=t}},{key:"_hideInputError",value:function(e){var t=this._formElement.querySelector("#".concat(e.id,"-error"));e.classList.remove(this._inputErrorClass),t.classList.remove(this._errorClass),t.textContent=""}},{key:"_isValid",value:function(e){e.validity.valid?this._hideInputError(e):this._showInputError(e,e.validationMessage)}},{key:"_hasInvalidInput",value:function(e){return e.some((function(e){return!e.validity.valid}))}},{key:"_toggleButtonState",value:function(){this._hasInvalidInput(this._inputs)?(this._button.classList.add(this._inactiveButtonClass),this._button.disabled=!0):(this._button.classList.remove(this._inactiveButtonClass),this._button.disabled=!1)}},{key:"resetValidation",value:function(){var e=this;this._toggleButtonState(),this._inputs.forEach((function(t){e._hideInputError(t)}))}},{key:"_setEventListeners",value:function(){var e=this;this._inputs.forEach((function(t){t.addEventListener("input",(function(){e._isValid(t),e._toggleButtonState()}))})),this._formElement.addEventListener("submit",(function(e){e.preventDefault()}))}},{key:"enableValidation",value:function(){this._setEventListeners()}}])&&n(t.prototype,r),e}();function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}const i=function(){function e(t){var n=t.cardData,r=t.handleCardClick,o=t.handleDeleteCardClick,i=t.handleLikeCardClick,a=t.userId,c=t.cardTemplateSelector;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._name=n.name,this._link=n.link,this._id=n._id,this._handleCardClick=r,this._handleDeleteCardClick=o,this._handleLikeCardClick=i,this._totalLikes=n.likes.length,this._id=n._id,this._user=n._id,this._userId=a,this._ownerId=n.owner._id,this._owner=n.owner,this._likesArray=n.likes,this._cardTemplateSelector=c}var t,n;return t=e,(n=[{key:"_getTemplate",value:function(){return document.querySelector(this._cardTemplateSelector).content.querySelector(".elements__item")}},{key:"_getId",value:function(){return this._id}},{key:"handleTrashButton",value:function(e){e.target.closest(".elements__item").remove()}},{key:"_showTrashIcon",value:function(){this._ownerId!==this._userId&&this._card.querySelector(".elements__delete-button").remove()}},{key:"toggleLikeButton",value:function(e){e.classList.toggle("elements__like_active")}},{key:"displayTotalLikes",value:function(e){this._card.querySelector(".elements__like-counter").textContent=e}},{key:"_handleCardLikes",value:function(){var e=this,t=this._card.querySelector(".elements__like");Array.from(this._likesArray).forEach((function(n){n._id===e._userId&&t.classList.add("elements__like_active")}))}},{key:"_setEventListeners",value:function(){var e=this,t=this._card.querySelector(".elements__like"),n=this._card.querySelector(".elements__image"),r=this._card.querySelector(".elements__delete-button");t.addEventListener("click",(function(){return e._handleLikeCardClick(t,e._getId())})),r.addEventListener("click",(function(t){return e._handleDeleteCardClick(t)})),n.addEventListener("click",(function(){return e._handleCardClick()}))}},{key:"generateCard",value:function(){return this._card=this._getTemplate().cloneNode(!0),this._cardImage=this._card.querySelector(".elements__image"),this._cardImageTitle=this._card.querySelector(".elements__title"),this._card.querySelector(".elements__like-counter").textContent=this._totalLikes,this._cardImageTitle.textContent=this._name,this._cardImage.src=this._link,this._cardImage.alt=this._name,this._handleCardLikes(),this._setEventListeners(),this._showTrashIcon(),this._card}}])&&o(t.prototype,n),e}();function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}const c=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._popup=document.querySelector(t),this._escapeToCloseModal=this._escapeToCloseModal.bind(this)}var t,n;return t=e,(n=[{key:"openModal",value:function(){this._popup.classList.add("modal_opened"),document.addEventListener("keydown",this._escapeToCloseModal)}},{key:"closeModal",value:function(){this._popup.classList.remove("modal_opened"),document.removeEventListener("keydown",this._escapeToCloseModal)}},{key:"_escapeToCloseModal",value:function(e){"Escape"===e.key&&this.closeModal()}},{key:"setEventListeners",value:function(){var e=this;this._popup.querySelector(".modal__close-button").addEventListener("click",(function(){e.closeModal()})),this._popup.addEventListener("click",(function(t){t.target.classList.contains("modal")&&e.closeModal()}))}}])&&a(t.prototype,n),e}();function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t,n){return(u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=h(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}const _=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=h(r);if(o){var n=h(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return d(this,e)});function a(e){var t,n=e.popupSelector,r=e.formSubmit;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,n))._formSubmit=r,t._form=t._popup.querySelector(".modal__form"),t._saveButton=t._popup.querySelector(".modal__form-submit"),t._buttonText=t._saveButton.textContent,t}return t=a,(n=[{key:"_getInputValues",value:function(){var e=this;return this._inputList=this._form.querySelectorAll(".modal__form-control"),this._formValues={},this._inputList.forEach((function(t){return e._formValues[t.name]=t.value})),this._formValues}},{key:"setEventListeners",value:function(){var e=this;this._form.addEventListener("submit",(function(t){t.preventDefault(),e._saveButton.textContent="Saving...",e._formSubmit(e._getInputValues())})),u(h(a.prototype),"setEventListeners",this).call(this)}},{key:"closeModal",value:function(){this._saveButton.textContent=this._buttonText,this._form.reset(),u(h(a.prototype),"closeModal",this).call(this)}},{key:"setSubmitAction",value:function(e){this._formSubmit=e}}])&&s(t.prototype,n),a}(c);function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e,t,n){return(y="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=k(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function b(e,t){return!t||"object"!==p(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function k(e){return(k=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}const g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=k(r);if(o){var n=k(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return b(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e))._modalPicture=t._popup.querySelector(".modal__image"),t._modalCaption=t._popup.querySelector(".modal__image-title"),t}return t=a,(n=[{key:"openModal",value:function(e,t){this._modalPicture.src=t,this._modalPicture.alt=e,this._modalCaption.textContent=e,y(k(a.prototype),"openModal",this).call(this)}}])&&m(t.prototype,n),a}(c);function S(e){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function C(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function w(e,t,n){return(w="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=O(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function E(e,t){return(E=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function L(e,t){return!t||"object"!==S(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}const I=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&E(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=O(r);if(o){var n=O(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return L(this,e)});function a(e){var t,n=e.popupSelector,r=e.formSubmit;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,n))._form=t._popup.querySelector(".modal__form"),t._formSubmit=r,t}return t=a,(n=[{key:"openModal",value:function(e,t){w(O(a.prototype),"openModal",this).call(this),this._cardId=t,this._card=e.target.parentElement}},{key:"setEventListeners",value:function(){var e=this;w(O(a.prototype),"setEventListeners",this).call(this),this._form.addEventListener("submit",(function(t){t.preventDefault(),e._formSubmit(e._card,e._cardId)}))}}])&&C(t.prototype,n),a}(c);function T(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}const P=function(){function e(t,n){var r=t.items,o=t.renderer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._items=r,this._renderer=o,this._cardContainer=document.querySelector(n)}var t,n;return t=e,(n=[{key:"renderer",value:function(){var e=this;this._items.forEach((function(t){e._renderer(t)}))}},{key:"addItem",value:function(e){this._cardContainer.prepend(e)}}])&&T(t.prototype,n),e}();function j(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}const q=function(){function e(t){var n=t.name,r=t.about,o=t.avatar;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._name=document.querySelector(n),this._about=document.querySelector(r),this._avatar=document.querySelector(o)}var t,n;return t=e,(n=[{key:"getUserInfo",value:function(){return{name:this._name.textContent,about:this._about.textContent}}},{key:"setUserInfo",value:function(e){var t=e.name,n=e.about,r=e.avatar;this._name.textContent=t,this._about.textContent=n,this._avatar.src=r}}])&&j(t.prototype,n),e}();var R=document.querySelector(".profile__edit"),M=document.querySelector(".profile__add"),B=document.querySelector(".profile__image-edit"),x=document.querySelector(".modal__form_type_profile"),U=x.querySelector(".modal__form-control_input_name"),A=x.querySelector(".modal__form-control_input_occupation"),V=(document.querySelector(".profile__name"),document.querySelector(".profile__occupation"),document.querySelector(".modal__form_type_profile")),D=document.querySelector(".addCard-form"),N=document.querySelector(".modal__form_type_avatar"),J={formSelector:".modal__form",inputSelector:".modal__form-control",submitButtonSelector:".modal__form-submit",inactiveButtonClass:"modal__form-submit_disabled",inputErrorClass:"modal__form-control_error",errorClass:"modal__error"};function H(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var z=new r(J,V),G=new r(J,D),$=new r(J,N);z.enableValidation(),G.enableValidation(),$.enableValidation();var F=new t({baseUrl:"https://around.nomoreparties.co/v1/group-10",headers:{authorization:"3e6a2d00-5fce-4033-96ec-e7320045c084","Content-Type":"application/json"}});Promise.all([F.getUserInfo(),F.getInitialCards()]).then((function(e){var t,n,r=(n=2,function(e){if(Array.isArray(e))return e}(t=e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}}(t,n)||function(e,t){if(e){if("string"==typeof e)return H(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?H(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=r[0],a=r[1],c=new q({name:".profile__name",about:".profile__occupation",avatar:".profile__image"});c.setUserInfo({name:o.name,about:o.about,avatar:o.avatar}),c.userId=o._id;var l=new P({items:a,renderer:function(e){l.addItem(d(e))}},".elements__container");l.renderer();var s=new _({popupSelector:".modal_type_create",formSubmit:function(e){F.addCard({name:e.titleInput,link:e.imageLinkInput}).then((function(e){var t=d(e);l.addItem(t),s.closeModal()})).catch((function(e){console.log(e)}))}}),u=new _({popupSelector:".modal_type_edit",formSubmit:function(e){F.editProfile({name:e.profileNameInput,about:e.profileOccupationInput}).then((function(e){c.setUserInfo(e),u.closeModal()})).catch((function(e){console.log(e)}))}}),f=new I({popupSelector:".modal_type_delete",formSubmit:function(e,t){F.deleteCard(t).then((function(){e.remove(t),f.closeModal()})).catch((function(e){console.log(e)}))}});function d(e){var t=new i({cardData:e,handleCardClick:function(){p.openModal(e.name,e.link)},handleDeleteCardClick:function(e){f.openModal(e,t._id)},handleLikeCardClick:function(e,n){e.classList.contains("elements__like_active")?F.removeLike(n).then((function(n){t.displayTotalLikes(n.likes.length),t.toggleLikeButton(e)})).catch((function(e){console.log(e)})):F.addLike(n).then((function(n){t.displayTotalLikes(n.likes.length),t.toggleLikeButton(e)})).catch((function(e){console.log(e)}))},userId:c.userId,cardTemplateSelector:".card-template"});return t.generateCard()}var h=new _({popupSelector:".modal_type_avatar",formSubmit:function(e){F.editAvatar({avatar:e.avatarInput}).then((function(e){c.setUserInfo({name:e.name,about:e.about,avatar:e.avatar}),h.closeModal()})).catch((function(e){console.log(e)}))}}),p=new g(".modal_type_preview");s.setEventListeners(),u.setEventListeners(),h.setEventListeners(),f.setEventListeners(),p.setEventListeners(),B.addEventListener("click",(function(){h.openModal(),$.resetValidation()})),M.addEventListener("click",(function(){s.openModal(),G.resetValidation()})),R.addEventListener("click",(function(){u.openModal();var e=c.getUserInfo(),t=e.name,n=e.about;U.value=t,A.value=n,z.resetValidation()}))})).catch((function(e){console.log(e)}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly95YW5kZXgucHJhY3RpY3VtLy4vc3JjL2NvbXBvbmVudHMvQXBpLmpzIiwid2VicGFjazovL3lhbmRleC5wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzIiwid2VicGFjazovL3lhbmRleC5wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9DYXJkLmpzIiwid2VicGFjazovL3lhbmRleC5wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9Qb3B1cC5qcyIsIndlYnBhY2s6Ly95YW5kZXgucHJhY3RpY3VtLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qcyIsIndlYnBhY2s6Ly95YW5kZXgucHJhY3RpY3VtLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanMiLCJ3ZWJwYWNrOi8veWFuZGV4LnByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL1BvcHVwQ29uZmlybURlbGV0ZS5qcyIsIndlYnBhY2s6Ly95YW5kZXgucHJhY3RpY3VtLy4vc3JjL2NvbXBvbmVudHMvU2VjdGlvbi5qcyIsIndlYnBhY2s6Ly95YW5kZXgucHJhY3RpY3VtLy4vc3JjL2NvbXBvbmVudHMvVXNlckluZm8uanMiLCJ3ZWJwYWNrOi8veWFuZGV4LnByYWN0aWN1bS8uL3NyYy91dGlscy9jb25zdGFudHMuanMiLCJ3ZWJwYWNrOi8veWFuZGV4LnByYWN0aWN1bS8uL3NyYy9wYWdlcy9pbmRleC5qcyJdLCJuYW1lcyI6WyJiYXNlVXJsIiwiaGVhZGVycyIsInRoaXMiLCJfYmFzZVVybCIsIl9oZWFkZXJzIiwicmVzIiwib2siLCJqc29uIiwiUHJvbWlzZSIsInJlamVjdCIsInN0YXR1c1RleHQiLCJmZXRjaCIsInRoZW4iLCJfY2hlY2tSZXNwb25zZSIsIm1ldGhvZCIsIm5hbWUiLCJsaW5rIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJjYXJkSWQiLCJhYm91dCIsImF2YXRhciIsInNldHRpbmdzIiwiZm9ybUVsZW1lbnQiLCJfZm9ybVNlbGVjdG9yIiwiZm9ybVNlbGVjdG9yIiwiX2lucHV0U2VsZWN0b3IiLCJpbnB1dFNlbGVjdG9yIiwiX3N1Ym1pdEJ1dHRvblNlbGVjdG9yIiwic3VibWl0QnV0dG9uU2VsZWN0b3IiLCJfaW5hY3RpdmVCdXR0b25DbGFzcyIsImluYWN0aXZlQnV0dG9uQ2xhc3MiLCJfaW5wdXRFcnJvckNsYXNzIiwiaW5wdXRFcnJvckNsYXNzIiwiX2Vycm9yQ2xhc3MiLCJlcnJvckNsYXNzIiwiX2Zvcm1FbGVtZW50IiwiX2lucHV0cyIsIkFycmF5IiwiZnJvbSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJfYnV0dG9uIiwicXVlcnlTZWxlY3RvciIsImlucHV0IiwiZXJyb3JNZXNzYWdlIiwiZXJyb3JFbGVtZW50IiwiaWQiLCJjbGFzc0xpc3QiLCJhZGQiLCJ0ZXh0Q29udGVudCIsInJlbW92ZSIsInZhbGlkaXR5IiwidmFsaWQiLCJfaGlkZUlucHV0RXJyb3IiLCJfc2hvd0lucHV0RXJyb3IiLCJ2YWxpZGF0aW9uTWVzc2FnZSIsImlucHV0cyIsInNvbWUiLCJfaGFzSW52YWxpZElucHV0IiwiZGlzYWJsZWQiLCJfdG9nZ2xlQnV0dG9uU3RhdGUiLCJmb3JFYWNoIiwiYWRkRXZlbnRMaXN0ZW5lciIsIl9pc1ZhbGlkIiwiZXZ0IiwicHJldmVudERlZmF1bHQiLCJfc2V0RXZlbnRMaXN0ZW5lcnMiLCJjYXJkRGF0YSIsImhhbmRsZUNhcmRDbGljayIsImhhbmRsZURlbGV0ZUNhcmRDbGljayIsImhhbmRsZUxpa2VDYXJkQ2xpY2siLCJ1c2VySWQiLCJjYXJkVGVtcGxhdGVTZWxlY3RvciIsIl9uYW1lIiwiX2xpbmsiLCJfaWQiLCJfaGFuZGxlQ2FyZENsaWNrIiwiX2hhbmRsZURlbGV0ZUNhcmRDbGljayIsIl9oYW5kbGVMaWtlQ2FyZENsaWNrIiwiX3RvdGFsTGlrZXMiLCJsaWtlcyIsImxlbmd0aCIsIl91c2VyIiwiX3VzZXJJZCIsIl9vd25lcklkIiwib3duZXIiLCJfb3duZXIiLCJfbGlrZXNBcnJheSIsIl9jYXJkVGVtcGxhdGVTZWxlY3RvciIsImRvY3VtZW50IiwiY29udGVudCIsInRhcmdldCIsImNsb3Nlc3QiLCJfY2FyZCIsImxpa2VCdXR0b24iLCJ0b2dnbGUiLCJ0b3RhbExpa2VzIiwiY2FyZExpa2VCdXR0b24iLCJlbGVtZW50IiwiY2FyZEltYWdlIiwidHJhc2hCdXR0b24iLCJfZ2V0SWQiLCJfZ2V0VGVtcGxhdGUiLCJjbG9uZU5vZGUiLCJfY2FyZEltYWdlIiwiX2NhcmRJbWFnZVRpdGxlIiwic3JjIiwiYWx0IiwiX2hhbmRsZUNhcmRMaWtlcyIsIl9zaG93VHJhc2hJY29uIiwicG9wdXBTZWxlY3RvciIsIl9wb3B1cCIsIl9lc2NhcGVUb0Nsb3NlTW9kYWwiLCJiaW5kIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImtleSIsImNsb3NlTW9kYWwiLCJjb250YWlucyIsImZvcm1TdWJtaXQiLCJfZm9ybVN1Ym1pdCIsIl9mb3JtIiwiX3NhdmVCdXR0b24iLCJfYnV0dG9uVGV4dCIsIl9pbnB1dExpc3QiLCJfZm9ybVZhbHVlcyIsInZhbHVlIiwiX2dldElucHV0VmFsdWVzIiwicmVzZXQiLCJhY3Rpb24iLCJQb3B1cCIsIl9tb2RhbFBpY3R1cmUiLCJfbW9kYWxDYXB0aW9uIiwiX2NhcmRJZCIsInBhcmVudEVsZW1lbnQiLCJjYXJkQ29udGFpbmVyU2VsZWN0b3IiLCJpdGVtcyIsInJlbmRlcmVyIiwiX2l0ZW1zIiwiX3JlbmRlcmVyIiwiX2NhcmRDb250YWluZXIiLCJpdGVtIiwiY2FyZCIsInByZXBlbmQiLCJfYWJvdXQiLCJfYXZhdGFyIiwicHJvZmlsZUVkaXRCdXR0b24iLCJhZGRCdXR0b24iLCJlZGl0QXZhdGFyQnV0dG9uIiwicHJvZmlsZUZvcm0iLCJmb3JtTmFtZSIsImZvcm1BYm91dCIsImVkaXRGb3JtIiwiYWRkTmV3Rm9ybSIsImF2YXRhckZvcm0iLCJlZGl0Rm9ybVZhbGlkYXRvciIsIkZvcm1WYWxpZGF0b3IiLCJhZGROZXdGb3JtVmFsaWRhdG9yIiwiYXZhdGFyRm9ybVZhbGlkYXRvciIsImVuYWJsZVZhbGlkYXRpb24iLCJhcGkiLCJBcGkiLCJhdXRob3JpemF0aW9uIiwiYWxsIiwiZ2V0VXNlckluZm8iLCJnZXRJbml0aWFsQ2FyZHMiLCJ1c2VySW5mbyIsImluaXRpYWxDYXJkcyIsInByb2ZpbGVJbmZvIiwiVXNlckluZm8iLCJzZXRVc2VySW5mbyIsImNhcmRzIiwiU2VjdGlvbiIsImFkZEl0ZW0iLCJjcmVhdGVDYXJkIiwiZWRpdEltYWdlRm9ybSIsIlBvcHVwV2l0aEZvcm0iLCJ2YWx1ZXMiLCJhZGRDYXJkIiwidGl0bGVJbnB1dCIsImltYWdlTGlua0lucHV0IiwiY2FyZEVsZW1lbnQiLCJjYXRjaCIsImVyciIsImNvbnNvbGUiLCJsb2ciLCJlZGl0UHJvZmlsZUZvcm0iLCJlZGl0UHJvZmlsZSIsInByb2ZpbGVOYW1lSW5wdXQiLCJwcm9maWxlT2NjdXBhdGlvbklucHV0IiwiY29uZmlybURlbGV0ZU1vZGFsIiwiUG9wdXBDb25maXJtRGVsZXRlIiwiZGVsZXRlQ2FyZCIsIm5ld0NhcmQiLCJDYXJkIiwiaW1hZ2VQb3B1cCIsIm9wZW5Nb2RhbCIsInJlbW92ZUxpa2UiLCJkaXNwbGF5VG90YWxMaWtlcyIsInRvZ2dsZUxpa2VCdXR0b24iLCJhZGRMaWtlIiwiZ2VuZXJhdGVDYXJkIiwiZWRpdEF2YXRhck1vZGFsIiwiZWRpdEF2YXRhciIsImF2YXRhcklucHV0IiwiUG9wdXBXaXRoSW1hZ2UiLCJzZXRFdmVudExpc3RlbmVycyIsInJlc2V0VmFsaWRhdGlvbiJdLCJtYXBwaW5ncyI6InlMQWdHQSxRLFdBL0ZFLGNBQWtDLElBQXBCQSxFQUFvQixFQUFwQkEsUUFBU0MsRUFBVyxFQUFYQSxTLDRGQUFXLFNBQ2hDQyxLQUFLQyxTQUFXSCxFQUNoQkUsS0FBS0UsU0FBV0gsRSxtREFHbEIsU0FBZUksR0FDYixPQUFPQSxFQUFJQyxHQUFLRCxFQUFJRSxPQUFTQyxRQUFRQyxPQUFPLFNBQVdKLEVBQUlLLGMsNkJBSTdELFdBQ0UsT0FBT0MsTUFBTVQsS0FB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bEJzSSxFQUFrQm9ELHdCQUtyQnpCLE9BQU0sU0FBQ0MsR0FDTkMsUUFBUUMsSUFBSUYsTyIsImZpbGUiOiJtYWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiY2xhc3MgQXBpIHtcclxuICBjb25zdHJ1Y3Rvcih7IGJhc2VVcmwsIGhlYWRlcnMgfSkge1xyXG4gICAgdGhpcy5fYmFzZVVybCA9IGJhc2VVcmw7XHJcbiAgICB0aGlzLl9oZWFkZXJzID0gaGVhZGVycztcclxuICB9XHJcblxyXG4gIF9jaGVja1Jlc3BvbnNlKHJlcykge1xyXG4gICAgcmV0dXJuIHJlcy5vayA/IHJlcy5qc29uKCkgOiBQcm9taXNlLnJlamVjdChcIkVycm9yIVwiICsgcmVzLnN0YXR1c1RleHQpO1xyXG4gIH1cclxuXHJcbiAgLy8gR0VUIGh0dHBzOi8vYXJvdW5kLm5vbW9yZXBhcnRpZXMuY28vdjEvZ3JvdXAtMTAvY2FyZHNcclxuICBnZXRJbml0aWFsQ2FyZHMoKSB7XHJcbiAgICByZXR1cm4gZmV0Y2godGhpcy5fYmFzZVVybCArIFwiL2NhcmRzXCIsIHtcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVyc1xyXG4gICAgfSlcclxuICAgICAgLnRoZW4odGhpcy5fY2hlY2tSZXNwb25zZSlcclxuICB9XHJcblxyXG4gIC8vIGh0dHBzOi8vYXJvdW5kLm5vbW9yZXBhcnRpZXMuY28vdjEvZ3JvdXAtMTAvdXNlcnMvbWVcclxuICBnZXRVc2VySW5mbygpIHtcclxuICAgIHJldHVybiBmZXRjaCh0aGlzLl9iYXNlVXJsICsgXCIvdXNlcnMvbWVcIiwge1xyXG4gICAgICBtZXRob2Q6IFwiR0VUXCIsXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnNcclxuICAgIH0pXHJcbiAgICAgIC50aGVuKHRoaXMuX2NoZWNrUmVzcG9uc2UpXHJcbiAgfVxyXG5cclxuICAvLyBodHRwczovL2Fyb3VuZC5ub21vcmVwYXJ0aWVzLmNvL3YxL2dyb3VwLTEwL2NhcmRzXHJcbiAgYWRkQ2FyZCh7IG5hbWUsIGxpbmsgfSkge1xyXG4gICAgcmV0dXJuIGZldGNoKHRoaXMuX2Jhc2VVcmwgKyBcIi9jYXJkc1wiLCB7XHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICAgIG1ldGhvZDogXCJQT1NUXCIsXHJcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICBuYW1lLFxyXG4gICAgICAgIGxpbmtcclxuICAgICAgfSlcclxuICAgIH0pXHJcbiAgICAgIC50aGVuKHRoaXMuX2NoZWNrUmVzcG9uc2UpXHJcbiAgfVxyXG5cclxuICAvLyBodHRwczovL2Fyb3VuZC5ub21vcmVwYXJ0aWVzLmNvL3YxL2dyb3VwLTEwL2NhcmRzL2NhcmRJZFxyXG4gIGRlbGV0ZUNhcmQoY2FyZElkKSB7XHJcbiAgICByZXR1cm4gZmV0Y2godGhpcy5fYmFzZVVybCArIFwiL2NhcmRzL1wiICsgY2FyZElkLCB7XHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICAgIG1ldGhvZDogXCJERUxFVEVcIixcclxuICAgIH0pXHJcbiAgICAgIC50aGVuKHRoaXMuX2NoZWNrUmVzcG9uc2UpXHJcbiAgfVxyXG5cclxuICAvLyBodHRwczovL2Fyb3VuZC5ub21vcmVwYXJ0aWVzLmNvL3YxL2dyb3VwLTEwL3VzZXJzL21lXHJcbiAgZWRpdFByb2ZpbGUoeyBuYW1lLCBhYm91dCB9KSB7XHJcbiAgICByZXR1cm4gZmV0Y2godGhpcy5fYmFzZVVybCArIFwiL3VzZXJzL21lXCIsIHtcclxuICAgICAgbWV0aG9kOiBcIlBBVENIXCIsXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICBuYW1lLFxyXG4gICAgICAgIGFib3V0XHJcbiAgICAgIH0pXHJcbiAgICB9KVxyXG4gICAgICAudGhlbih0aGlzLl9jaGVja1Jlc3BvbnNlKVxyXG4gIH1cclxuXHJcbiAgLy8gaHR0cHM6Ly9hcm91bmQubm9tb3JlcGFydGllcy5jby92MS9ncm91cC0xMC91c2Vycy9tZS9hdmF0YXIvXHJcbiAgZWRpdEF2YXRhcih7IGF2YXRhciB9KSB7XHJcbiAgICByZXR1cm4gZmV0Y2godGhpcy5fYmFzZVVybCArIFwiL3VzZXJzL21lL2F2YXRhclwiLCB7XHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICAgIG1ldGhvZDogXCJQQVRDSFwiLFxyXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgYXZhdGFyOiBhdmF0YXIsXHJcbiAgICAgIH0pXHJcbiAgICB9KVxyXG4gICAgICAudGhlbih0aGlzLl9jaGVja1Jlc3BvbnNlKVxyXG4gIH1cclxuXHJcbiAgLy8gaHR0cHM6Ly9hcm91bmQubm9tb3JlcGFydGllcy5jby92MS9ncm91cC0xMC9jYXJkcy9saWtlcy9jYXJkSWRcclxuICBhZGRMaWtlKGNhcmRJZCkge1xyXG4gICAgcmV0dXJuIGZldGNoKHRoaXMuX2Jhc2VVcmwgKyBcIi9jYXJkcy9saWtlcy9cIiArIGNhcmRJZCwge1xyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgICBtZXRob2Q6IFwiUFVUXCIsXHJcbiAgICB9KVxyXG4gICAgICAudGhlbih0aGlzLl9jaGVja1Jlc3BvbnNlKVxyXG4gIH1cclxuXHJcbiAgLy9odHRwczovL2Fyb3VuZC5ub21vcmVwYXJ0aWVzLmNvL3YxL2dyb3VwLTEwL2NhcmRzL2xpa2VzL2NhcmRJZFxyXG4gIHJlbW92ZUxpa2UoY2FyZElkKSB7XHJcbiAgICByZXR1cm4gZmV0Y2godGhpcy5fYmFzZVVybCArIFwiL2NhcmRzL2xpa2VzL1wiICsgY2FyZElkLCB7XHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICAgIG1ldGhvZDogXCJERUxFVEVcIixcclxuICAgIH0pXHJcbiAgICAgIC50aGVuKHRoaXMuX2NoZWNrUmVzcG9uc2UpXHJcbiAgfVxyXG5cclxuXHJcbn1cclxuXHJcblxyXG5leHBvcnQgZGVmYXVsdCBBcGk7IiwiY2xhc3MgRm9ybVZhbGlkYXRvciB7XHJcblxyXG4gIGNvbnN0cnVjdG9yKHNldHRpbmdzLCBmb3JtRWxlbWVudCkge1xyXG5cclxuICAgIHRoaXMuX2Zvcm1TZWxlY3RvciA9IHNldHRpbmdzLmZvcm1TZWxlY3RvcjtcclxuICAgIHRoaXMuX2lucHV0U2VsZWN0b3IgID0gc2V0dGluZ3MuaW5wdXRTZWxlY3RvcjtcclxuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvblNlbGVjdG9yICA9IHNldHRpbmdzLnN1Ym1pdEJ1dHRvblNlbGVjdG9yO1xyXG4gICAgdGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyAgPSBzZXR0aW5ncy5pbmFjdGl2ZUJ1dHRvbkNsYXNzO1xyXG4gICAgdGhpcy5faW5wdXRFcnJvckNsYXNzICA9IHNldHRpbmdzLmlucHV0RXJyb3JDbGFzcztcclxuICAgIHRoaXMuX2Vycm9yQ2xhc3MgID0gc2V0dGluZ3MuZXJyb3JDbGFzcztcclxuICAgIHRoaXMuX2Zvcm1FbGVtZW50ID0gZm9ybUVsZW1lbnQ7XHJcbiAgICB0aGlzLl9pbnB1dHMgPSBBcnJheS5mcm9tKHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5faW5wdXRTZWxlY3RvcikpO1xyXG4gICAgdGhpcy5fYnV0dG9uID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLl9zdWJtaXRCdXR0b25TZWxlY3Rvcik7XHJcbiAgfVxyXG5cclxuICBfc2hvd0lucHV0RXJyb3IoaW5wdXQsIGVycm9yTWVzc2FnZSkge1xyXG4gICAgY29uc3QgZXJyb3JFbGVtZW50ID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihgIyR7aW5wdXQuaWR9LWVycm9yYCk7XHJcbiAgICBpbnB1dC5jbGFzc0xpc3QuYWRkKHRoaXMuX2lucHV0RXJyb3JDbGFzcyk7IFxyXG4gICAgZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5fZXJyb3JDbGFzcyk7XHJcbiAgICBlcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSBlcnJvck1lc3NhZ2U7XHJcbiAgfVxyXG5cclxuICBfaGlkZUlucHV0RXJyb3IoaW5wdXQpIHtcclxuICAgIGNvbnN0IGVycm9yRWxlbWVudCA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoYCMke2lucHV0LmlkfS1lcnJvcmApOyBcclxuICAgIGlucHV0LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5faW5wdXRFcnJvckNsYXNzKTtcclxuICAgIGVycm9yRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2Vycm9yQ2xhc3MpO1xyXG4gICAgZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gXCJcIjtcclxuICB9XHJcblxyXG4gIF9pc1ZhbGlkKGlucHV0KSB7XHJcbiAgICBpZiAoaW5wdXQudmFsaWRpdHkudmFsaWQpIHtcclxuICAgICAgICB0aGlzLl9oaWRlSW5wdXRFcnJvcihpbnB1dCk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdGhpcy5fc2hvd0lucHV0RXJyb3IoaW5wdXQsIGlucHV0LnZhbGlkYXRpb25NZXNzYWdlKTtcclxuICAgICAgfVxyXG4gIH1cclxuXHJcbiAgX2hhc0ludmFsaWRJbnB1dChpbnB1dHMpIHtcclxuICAgICAgcmV0dXJuIGlucHV0cy5zb21lKChpbnB1dCkgPT4ge1xyXG4gICAgICAgICAgcmV0dXJuICFpbnB1dC52YWxpZGl0eS52YWxpZDtcclxuICAgICAgfSk7XHJcbiAgfVxyXG5cclxuICBfdG9nZ2xlQnV0dG9uU3RhdGUoKSB7XHJcbiAgICBpZiAodGhpcy5faGFzSW52YWxpZElucHV0KHRoaXMuX2lucHV0cykpIHtcclxuICAgICAgdGhpcy5fYnV0dG9uLmNsYXNzTGlzdC5hZGQodGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyk7XHJcbiAgICAgIHRoaXMuX2J1dHRvbi5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLl9idXR0b24uY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcclxuICAgICAgdGhpcy5fYnV0dG9uLmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICByZXNldFZhbGlkYXRpb24oKSB7XHJcbiAgICAgICAgdGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUoKTtcclxuICAgICAgICB0aGlzLl9pbnB1dHMuZm9yRWFjaCgoaW5wdXQpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5faGlkZUlucHV0RXJyb3IoaW5wdXQpXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gIF9zZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIHRoaXMuX2lucHV0cy5mb3JFYWNoKChpbnB1dCkgPT4ge1xyXG4gICAgICBpbnB1dC5hZGRFdmVudExpc3RlbmVyKFwiaW5wdXRcIiwgKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuX2lzVmFsaWQoaW5wdXQpO1xyXG4gICAgICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKCk7XHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcblxyXG4gICAgdGhpcy5fZm9ybUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZXZ0KSA9PiB7XHJcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBlbmFibGVWYWxpZGF0aW9uKCkge1xyXG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IEZvcm1WYWxpZGF0b3I7IiwiY2xhc3MgQ2FyZCB7XHJcblxyXG4gICAgY29uc3RydWN0b3IoeyBjYXJkRGF0YSwgaGFuZGxlQ2FyZENsaWNrLCBoYW5kbGVEZWxldGVDYXJkQ2xpY2ssIGhhbmRsZUxpa2VDYXJkQ2xpY2ssIHVzZXJJZCwgY2FyZFRlbXBsYXRlU2VsZWN0b3IgfSkge1xyXG4gICAgICAgIHRoaXMuX25hbWUgPSBjYXJkRGF0YS5uYW1lO1xyXG4gICAgICAgIHRoaXMuX2xpbmsgPSBjYXJkRGF0YS5saW5rO1xyXG4gICAgICAgIHRoaXMuX2lkID0gY2FyZERhdGEuX2lkO1xyXG4gICAgICAgIHRoaXMuX2hhbmRsZUNhcmRDbGljayA9IGhhbmRsZUNhcmRDbGljaztcclxuICAgICAgICB0aGlzLl9oYW5kbGVEZWxldGVDYXJkQ2xpY2sgPSBoYW5kbGVEZWxldGVDYXJkQ2xpY2s7XHJcbiAgICAgICAgdGhpcy5faGFuZGxlTGlrZUNhcmRDbGljayA9IGhhbmRsZUxpa2VDYXJkQ2xpY2s7XHJcbiAgICAgICAgdGhpcy5fdG90YWxMaWtlcyA9IGNhcmREYXRhLmxpa2VzLmxlbmd0aDtcclxuICAgICAgICB0aGlzLl9pZCA9IGNhcmREYXRhLl9pZDtcclxuICAgICAgICB0aGlzLl91c2VyID0gY2FyZERhdGEuX2lkO1xyXG4gICAgICAgIHRoaXMuX3VzZXJJZCA9IHVzZXJJZDsgXHJcbiAgICAgICAgdGhpcy5fb3duZXJJZCA9IGNhcmREYXRhLm93bmVyLl9pZDtcclxuICAgICAgICB0aGlzLl9vd25lciA9IGNhcmREYXRhLm93bmVyO1xyXG4gICAgICAgIHRoaXMuX2xpa2VzQXJyYXkgPSBjYXJkRGF0YS5saWtlcztcclxuICAgICAgICB0aGlzLl9jYXJkVGVtcGxhdGVTZWxlY3RvciA9IGNhcmRUZW1wbGF0ZVNlbGVjdG9yO1xyXG4gICAgfVxyXG5cclxuICAgIF9nZXRUZW1wbGF0ZSgpIHtcclxuICAgICAgICBjb25zdCBjYXJkVGVtcGxhdGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRoaXMuX2NhcmRUZW1wbGF0ZVNlbGVjdG9yKS5jb250ZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudHNfX2l0ZW1cIik7XHJcblxyXG4gICAgICAgIHJldHVybiBjYXJkVGVtcGxhdGU7XHJcbiAgICB9IFxyXG5cclxuICAgIF9nZXRJZCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5faWQ7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIGhhbmRsZVRyYXNoQnV0dG9uKGV2dCkge1xyXG4gICAgICAgIGV2dC50YXJnZXQuY2xvc2VzdChcIi5lbGVtZW50c19faXRlbVwiKS5yZW1vdmUoKTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgX3Nob3dUcmFzaEljb24oKSB7XHJcbiAgICBpZiAodGhpcy5fb3duZXJJZCAhPT0gdGhpcy5fdXNlcklkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2NhcmQucXVlcnlTZWxlY3RvcihcIi5lbGVtZW50c19fZGVsZXRlLWJ1dHRvblwiKS5yZW1vdmUoKTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICB0b2dnbGVMaWtlQnV0dG9uKGxpa2VCdXR0b24pIHtcclxuICAgICAgICBsaWtlQnV0dG9uLmNsYXNzTGlzdC50b2dnbGUoXCJlbGVtZW50c19fbGlrZV9hY3RpdmVcIik7XHJcbiAgICB9IFxyXG4gIFxyXG4gICAgZGlzcGxheVRvdGFsTGlrZXModG90YWxMaWtlcykgeyBcclxuICAgICAgICB0aGlzLl9jYXJkLnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudHNfX2xpa2UtY291bnRlclwiKS50ZXh0Q29udGVudCA9IHRvdGFsTGlrZXM7IFxyXG4gICAgfSBcclxuIFxyXG5cclxuICAgIF9oYW5kbGVDYXJkTGlrZXMoKSB7IFxyXG4gICAgICAgIGNvbnN0IGNhcmRMaWtlQnV0dG9uID0gdGhpcy5fY2FyZC5xdWVyeVNlbGVjdG9yKFwiLmVsZW1lbnRzX19saWtlXCIpOyBcclxuICAgICAgICBcclxuICAgICAgICBjb25zdCBjYXJkTGlrZXMgPSBBcnJheS5mcm9tKHRoaXMuX2xpa2VzQXJyYXkpOyBcclxuICAgICAgICAgXHJcbiAgICAgICAgY2FyZExpa2VzLmZvckVhY2goZWxlbWVudCA9PiB7IFxyXG4gICAgICAgICAgICBpZiAoZWxlbWVudC5faWQgPT09IHRoaXMuX3VzZXJJZCkgeyBcclxuICAgICAgICAgICAgICAgIGNhcmRMaWtlQnV0dG9uLmNsYXNzTGlzdC5hZGQoXCJlbGVtZW50c19fbGlrZV9hY3RpdmVcIik7IFxyXG4gICAgICAgICAgICB9IFxyXG4gICAgICAgIH0pIFxyXG4gICAgfSBcclxuICAgIFxyXG4gICAgX3NldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgICAgIGNvbnN0IGxpa2VCdXR0b24gPSB0aGlzLl9jYXJkLnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudHNfX2xpa2VcIik7XHJcbiAgICAgICAgY29uc3QgY2FyZEltYWdlID0gdGhpcy5fY2FyZC5xdWVyeVNlbGVjdG9yKFwiLmVsZW1lbnRzX19pbWFnZVwiKTtcclxuICAgICAgICBjb25zdCB0cmFzaEJ1dHRvbiA9IHRoaXMuX2NhcmQucXVlcnlTZWxlY3RvcihcIi5lbGVtZW50c19fZGVsZXRlLWJ1dHRvblwiKTtcclxuXHJcbiAgICAgICAgbGlrZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4gdGhpcy5faGFuZGxlTGlrZUNhcmRDbGljayhsaWtlQnV0dG9uLCB0aGlzLl9nZXRJZCgpKSk7XHJcbiAgICAgICAgdHJhc2hCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChldnQpID0+IHRoaXMuX2hhbmRsZURlbGV0ZUNhcmRDbGljayhldnQpKTtcclxuICAgICAgICBjYXJkSW1hZ2UuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHRoaXMuX2hhbmRsZUNhcmRDbGljaygpKTtcclxuICAgIH0gICAgXHJcblxyXG4gICAgZ2VuZXJhdGVDYXJkKCkge1xyXG4gICAgICAgIHRoaXMuX2NhcmQgPSB0aGlzLl9nZXRUZW1wbGF0ZSgpLmNsb25lTm9kZSh0cnVlKTtcclxuICAgICAgICB0aGlzLl9jYXJkSW1hZ2UgPSB0aGlzLl9jYXJkLnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudHNfX2ltYWdlXCIpO1xyXG4gICAgICAgIHRoaXMuX2NhcmRJbWFnZVRpdGxlID0gdGhpcy5fY2FyZC5xdWVyeVNlbGVjdG9yKFwiLmVsZW1lbnRzX190aXRsZVwiKTtcclxuICAgICAgICB0aGlzLl9jYXJkLnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudHNfX2xpa2UtY291bnRlclwiKS50ZXh0Q29udGVudCA9IHRoaXMuX3RvdGFsTGlrZXM7IFxyXG4gICAgICAgIFxyXG4gICAgICAgIHRoaXMuX2NhcmRJbWFnZVRpdGxlLnRleHRDb250ZW50ID0gdGhpcy5fbmFtZTtcclxuICAgICAgICB0aGlzLl9jYXJkSW1hZ2Uuc3JjID0gdGhpcy5fbGluaztcclxuICAgICAgICB0aGlzLl9jYXJkSW1hZ2UuYWx0ID0gdGhpcy5fbmFtZTtcclxuXHJcbiAgICAgICAgdGhpcy5faGFuZGxlQ2FyZExpa2VzKCk7XHJcbiAgICAgICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICAgICAgICB0aGlzLl9zaG93VHJhc2hJY29uKCk7XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzLl9jYXJkO1xyXG5cclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgQ2FyZDsiLCJjbGFzcyBQb3B1cCB7XHJcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvcikge1xyXG4gICAgdGhpcy5fcG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHBvcHVwU2VsZWN0b3IpO1xyXG4gICAgdGhpcy5fZXNjYXBlVG9DbG9zZU1vZGFsID0gdGhpcy5fZXNjYXBlVG9DbG9zZU1vZGFsLmJpbmQodGhpcyk7XHJcbiAgfVxyXG5cclxuICBvcGVuTW9kYWwoKSB7XHJcbiAgICAgICAgdGhpcy5fcG9wdXAuY2xhc3NMaXN0LmFkZChcIm1vZGFsX29wZW5lZFwiKTtcclxuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLl9lc2NhcGVUb0Nsb3NlTW9kYWwpO1xyXG4gICAgfVxyXG5cclxuICAgIGNsb3NlTW9kYWwoKSB7XHJcbiAgICAgICAgdGhpcy5fcG9wdXAuY2xhc3NMaXN0LnJlbW92ZShcIm1vZGFsX29wZW5lZFwiKTtcclxuICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLl9lc2NhcGVUb0Nsb3NlTW9kYWwpO1xyXG4gICAgfVxyXG5cclxuICAgIF9lc2NhcGVUb0Nsb3NlTW9kYWwoZXZ0KSB7XHJcbiAgICAgICAgaWYgKGV2dC5rZXkgPT09IFwiRXNjYXBlXCIpIHtcclxuICAgICAgICAgICAgdGhpcy5jbG9zZU1vZGFsKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHNldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgICAgIGNvbnN0IGNsb3NlQnV0dG9uID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fY2xvc2UtYnV0dG9uXCIpO1xyXG4gICAgICAgIGNsb3NlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuY2xvc2VNb2RhbCgpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLl9wb3B1cC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGV2dCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoZXZ0LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoXCJtb2RhbFwiKSkge1xyXG4gICAgICAgICAgICB0aGlzLmNsb3NlTW9kYWwoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBQb3B1cDtcclxuXHJcbiIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xyXG5cclxuY2xhc3MgUG9wdXBXaXRoRm9ybSBleHRlbmRzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3Rvcih7IHBvcHVwU2VsZWN0b3IsIGZvcm1TdWJtaXQgfSkge1xyXG4gICAgc3VwZXIocG9wdXBTZWxlY3Rvcik7XHJcbiAgICB0aGlzLl9mb3JtU3VibWl0ID0gZm9ybVN1Ym1pdDtcclxuICAgIHRoaXMuX2Zvcm0gPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19mb3JtXCIpO1xyXG4gICAgdGhpcy5fc2F2ZUJ1dHRvbiA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2Zvcm0tc3VibWl0XCIpO1xyXG4gICAgdGhpcy5fYnV0dG9uVGV4dCA9IHRoaXMuX3NhdmVCdXR0b24udGV4dENvbnRlbnQ7XHJcbiAgfVxyXG5cclxuICBfZ2V0SW5wdXRWYWx1ZXMoKSB7XHJcbiAgICB0aGlzLl9pbnB1dExpc3QgPSB0aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3JBbGwoXCIubW9kYWxfX2Zvcm0tY29udHJvbFwiKTtcclxuICAgIHRoaXMuX2Zvcm1WYWx1ZXMgPSB7fTtcclxuXHJcbiAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXQpID0+ICh0aGlzLl9mb3JtVmFsdWVzW2lucHV0Lm5hbWVdID0gaW5wdXQudmFsdWUpKTtcclxuXHJcbiAgICByZXR1cm4gdGhpcy5fZm9ybVZhbHVlcztcclxuICB9XHJcblxyXG5cclxuICBzZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIHRoaXMuX2Zvcm0uYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZXZ0KSA9PiB7XHJcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICB0aGlzLl9zYXZlQnV0dG9uLnRleHRDb250ZW50ID0gXCJTYXZpbmcuLi5cIjtcclxuICAgICAgdGhpcy5fZm9ybVN1Ym1pdCh0aGlzLl9nZXRJbnB1dFZhbHVlcygpKTtcclxuICAgIH0pO1xyXG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICB9XHJcblxyXG4gIGNsb3NlTW9kYWwoKSB7XHJcbiAgICB0aGlzLl9zYXZlQnV0dG9uLnRleHRDb250ZW50ID0gdGhpcy5fYnV0dG9uVGV4dDtcclxuICAgIHRoaXMuX2Zvcm0ucmVzZXQoKTtcclxuICAgIHN1cGVyLmNsb3NlTW9kYWwoKTtcclxuICB9XHJcblxyXG4gIHNldFN1Ym1pdEFjdGlvbihhY3Rpb24pIHtcclxuICAgIHRoaXMuX2Zvcm1TdWJtaXQgPSBhY3Rpb247XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBQb3B1cFdpdGhGb3JtOyIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xyXG5cclxuY2xhc3MgUG9wdXBXaXRoSW1hZ2UgZXh0ZW5kcyBQb3B1cCB7XHJcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvcikge1xyXG4gICAgc3VwZXIocG9wdXBTZWxlY3Rvcik7XHJcbiAgICB0aGlzLl9tb2RhbFBpY3R1cmUgPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19pbWFnZVwiKTtcclxuICAgIHRoaXMuX21vZGFsQ2FwdGlvbiA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2ltYWdlLXRpdGxlXCIpO1xyXG4gIH1cclxuXHJcbiAgb3Blbk1vZGFsKG5hbWUsIGxpbmspIHtcclxuICAgIHRoaXMuX21vZGFsUGljdHVyZS5zcmMgPSBsaW5rO1xyXG4gICAgdGhpcy5fbW9kYWxQaWN0dXJlLmFsdCA9IG5hbWU7XHJcbiAgICB0aGlzLl9tb2RhbENhcHRpb24udGV4dENvbnRlbnQgPSBuYW1lO1xyXG5cclxuICAgIHN1cGVyLm9wZW5Nb2RhbCgpO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgUG9wdXBXaXRoSW1hZ2U7XHJcbiIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xyXG5cclxuY2xhc3MgUG9wdXBDb25maXJtRGVsZXRlIGV4dGVuZHMgUG9wdXAge1xyXG4gIGNvbnN0cnVjdG9yKHsgcG9wdXBTZWxlY3RvciwgZm9ybVN1Ym1pdCB9KSB7XHJcbiAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcclxuICAgIHRoaXMuX2Zvcm0gPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19mb3JtXCIpO1xyXG4gICAgdGhpcy5fZm9ybVN1Ym1pdCA9IGZvcm1TdWJtaXQ7XHJcbiAgfVxyXG5cclxuICBvcGVuTW9kYWwoZXZ0LCBjYXJkSWQpIHtcclxuICAgIHN1cGVyLm9wZW5Nb2RhbCgpO1xyXG4gICAgdGhpcy5fY2FyZElkID0gY2FyZElkO1xyXG4gICAgdGhpcy5fY2FyZCA9IGV2dC50YXJnZXQucGFyZW50RWxlbWVudDtcclxuICB9XHJcblxyXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICAgIHRoaXMuX2Zvcm0uYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCBldnQgPT4ge1xyXG4gICAgICBldnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgdGhpcy5fZm9ybVN1Ym1pdCh0aGlzLl9jYXJkLCB0aGlzLl9jYXJkSWQpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgUG9wdXBDb25maXJtRGVsZXRlOyIsImNsYXNzIFNlY3Rpb24ge1xyXG4gIGNvbnN0cnVjdG9yKHsgaXRlbXMsIHJlbmRlcmVyIH0sIGNhcmRDb250YWluZXJTZWxlY3Rvcikge1xyXG4gICAgdGhpcy5faXRlbXMgPSBpdGVtcztcclxuICAgIHRoaXMuX3JlbmRlcmVyID0gcmVuZGVyZXI7IFxyXG4gICAgdGhpcy5fY2FyZENvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoY2FyZENvbnRhaW5lclNlbGVjdG9yKTtcclxuICB9XHJcblxyXG4gIHJlbmRlcmVyKCkge1xyXG4gICAgdGhpcy5faXRlbXMuZm9yRWFjaCgoaXRlbSkgPT4ge3RoaXMuX3JlbmRlcmVyKGl0ZW0pO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBhZGRJdGVtKGNhcmQpIHtcclxuICAgIHRoaXMuX2NhcmRDb250YWluZXIucHJlcGVuZChjYXJkKTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IFNlY3Rpb247IiwiY2xhc3MgVXNlckluZm8ge1xyXG4gIGNvbnN0cnVjdG9yKHsgbmFtZSwgYWJvdXQsIGF2YXRhciB9KSB7XHJcbiAgICB0aGlzLl9uYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihuYW1lKTtcclxuICAgIHRoaXMuX2Fib3V0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihhYm91dCk7XHJcbiAgICB0aGlzLl9hdmF0YXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGF2YXRhcik7XHJcbiAgfVxyXG5cclxuICBnZXRVc2VySW5mbygpIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIG5hbWU6IHRoaXMuX25hbWUudGV4dENvbnRlbnQsXHJcbiAgICAgIGFib3V0OiB0aGlzLl9hYm91dC50ZXh0Q29udGVudCxcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHNldFVzZXJJbmZvKHtuYW1lLCBhYm91dCwgYXZhdGFyfSkge1xyXG4gICAgdGhpcy5fbmFtZS50ZXh0Q29udGVudCA9IG5hbWU7XHJcbiAgICB0aGlzLl9hYm91dC50ZXh0Q29udGVudCA9IGFib3V0O1xyXG4gICAgdGhpcy5fYXZhdGFyLnNyYyA9IGF2YXRhcjtcclxuICB9XHJcblxyXG5cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgVXNlckluZm87IiwiLy9CdXR0b25zXHJcbmV4cG9ydCBjb25zdCBwcm9maWxlRWRpdEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fZWRpdFwiKTtcclxuZXhwb3J0IGNvbnN0IGFkZEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fYWRkXCIpO1xyXG5leHBvcnQgY29uc3QgZWRpdEF2YXRhckJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9faW1hZ2UtZWRpdFwiKTtcclxuXHJcbi8vRm9ybXNcclxuZXhwb3J0IGNvbnN0IHByb2ZpbGVGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fZm9ybV90eXBlX3Byb2ZpbGVcIik7XHJcblxyXG4vL0Zvcm0gSW5wdXRzXHJcbmV4cG9ydCBjb25zdCBmb3JtTmFtZSA9IHByb2ZpbGVGb3JtLnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2Zvcm0tY29udHJvbF9pbnB1dF9uYW1lXCIpO1xyXG5leHBvcnQgY29uc3QgZm9ybUFib3V0ID0gcHJvZmlsZUZvcm0ucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fZm9ybS1jb250cm9sX2lucHV0X29jY3VwYXRpb25cIik7XHJcblxyXG4vL1Byb2ZpbGUgU2VjdGlvbiBJbmZvXHJcbmV4cG9ydCBjb25zdCBwcm9maWxlTmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fbmFtZVwiKTtcclxuZXhwb3J0IGNvbnN0IHByb2ZpbGVBYm91dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fb2NjdXBhdGlvblwiKTtcclxuXHJcbi8vRm9ybXNcclxuZXhwb3J0IGNvbnN0IGVkaXRGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fZm9ybV90eXBlX3Byb2ZpbGVcIik7XHJcbmV4cG9ydCBjb25zdCBhZGROZXdGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5hZGRDYXJkLWZvcm1cIik7XHJcbmV4cG9ydCBjb25zdCBhdmF0YXJGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fZm9ybV90eXBlX2F2YXRhclwiKTtcclxuXHJcblxyXG4vLy8vLy8vLy8vLy8vLy8vLy8vXHJcbi8vRm9ybVZhbGlkYXRvclxyXG4vLy8vLy8vLy8vLy8vLy8vLy8vXHJcblxyXG5leHBvcnQgY29uc3Qgc2V0dGluZ3MgPSB7XHJcbiAgZm9ybVNlbGVjdG9yOiBcIi5tb2RhbF9fZm9ybVwiLFxyXG4gIGlucHV0U2VsZWN0b3I6IFwiLm1vZGFsX19mb3JtLWNvbnRyb2xcIixcclxuICBzdWJtaXRCdXR0b25TZWxlY3RvcjogXCIubW9kYWxfX2Zvcm0tc3VibWl0XCIsXHJcbiAgaW5hY3RpdmVCdXR0b25DbGFzczogXCJtb2RhbF9fZm9ybS1zdWJtaXRfZGlzYWJsZWRcIixcclxuICBpbnB1dEVycm9yQ2xhc3M6IFwibW9kYWxfX2Zvcm0tY29udHJvbF9lcnJvclwiLFxyXG4gIGVycm9yQ2xhc3M6IFwibW9kYWxfX2Vycm9yXCJcclxufTtcclxuXHJcblxyXG5cclxuIiwiaW1wb3J0IFwiLi9pbmRleC5jc3NcIjtcclxuaW1wb3J0IEFwaSBmcm9tIFwiLi4vY29tcG9uZW50cy9BcGkuanNcIjtcclxuaW1wb3J0IEZvcm1WYWxpZGF0b3IgZnJvbSBcIi4uL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qc1wiO1xyXG5pbXBvcnQgQ2FyZCBmcm9tIFwiLi4vY29tcG9uZW50cy9DYXJkLmpzXCI7XHJcbmltcG9ydCBQb3B1cFdpdGhGb3JtIGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanNcIjtcclxuaW1wb3J0IFBvcHVwV2l0aEltYWdlIGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzXCI7XHJcbmltcG9ydCBQb3B1cENvbmZpcm1EZWxldGUgZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBDb25maXJtRGVsZXRlXCI7XHJcbmltcG9ydCBTZWN0aW9uIGZyb20gXCIuLi9jb21wb25lbnRzL1NlY3Rpb24uanNcIjtcclxuaW1wb3J0IFVzZXJJbmZvIGZyb20gXCIuLi9jb21wb25lbnRzL1VzZXJJbmZvLmpzXCI7XHJcbmltcG9ydCB7IHNldHRpbmdzLCBwcm9maWxlRWRpdEJ1dHRvbiwgYWRkQnV0dG9uLCBlZGl0QXZhdGFyQnV0dG9uLCBwcm9maWxlRm9ybSwgZm9ybU5hbWUsIGZvcm1BYm91dCwgcHJvZmlsZU5hbWUsIHByb2ZpbGVBYm91dCwgZWRpdEZvcm0sIGFkZE5ld0Zvcm0sIGF2YXRhckZvcm0gfSBmcm9tIFwiLi4vdXRpbHMvY29uc3RhbnRzLmpzXCJcclxuXHJcbi8vRm9ybSBWYWxpZGF0aW9uXHJcbmNvbnN0IGVkaXRGb3JtVmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3Ioc2V0dGluZ3MsIGVkaXRGb3JtKTtcclxuY29uc3QgYWRkTmV3Rm9ybVZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKHNldHRpbmdzLCBhZGROZXdGb3JtKTtcclxuY29uc3QgYXZhdGFyRm9ybVZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKHNldHRpbmdzLCBhdmF0YXJGb3JtKTtcclxuXHJcbmVkaXRGb3JtVmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcclxuYWRkTmV3Rm9ybVZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XHJcbmF2YXRhckZvcm1WYWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpO1xyXG5cclxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcblxyXG5jb25zdCBhcGkgPSBuZXcgQXBpKHtcclxuICBiYXNlVXJsOiBcImh0dHBzOi8vYXJvdW5kLm5vbW9yZXBhcnRpZXMuY28vdjEvZ3JvdXAtMTBcIixcclxuICBoZWFkZXJzOiB7XHJcbiAgICBhdXRob3JpemF0aW9uOiBcIjNlNmEyZDAwLTVmY2UtNDAzMy05NmVjLWU3MzIwMDQ1YzA4NFwiLFxyXG4gICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCJcclxuICB9XHJcbn0pO1xyXG5cclxuUHJvbWlzZS5hbGwoW2FwaS5nZXRVc2VySW5mbygpLCBhcGkuZ2V0SW5pdGlhbENhcmRzKCldKVxyXG4gIC50aGVuKChbdXNlckluZm8sIGluaXRpYWxDYXJkc10pID0+IHtcclxuXHJcbiAgICBjb25zdCBwcm9maWxlSW5mbyA9IG5ldyBVc2VySW5mbyh7XHJcbiAgICAgIG5hbWU6IFwiLnByb2ZpbGVfX25hbWVcIixcclxuICAgICAgYWJvdXQ6IFwiLnByb2ZpbGVfX29jY3VwYXRpb25cIixcclxuICAgICAgYXZhdGFyOiBcIi5wcm9maWxlX19pbWFnZVwiXHJcbiAgICB9KTtcclxuICAgIHByb2ZpbGVJbmZvLnNldFVzZXJJbmZvKHsgbmFtZTogdXNlckluZm8ubmFtZSwgYWJvdXQ6IHVzZXJJbmZvLmFib3V0LCBhdmF0YXI6IHVzZXJJbmZvLmF2YXRhciB9KTtcclxuICAgIHByb2ZpbGVJbmZvLnVzZXJJZCA9IHVzZXJJbmZvLl9pZDtcclxuXHJcbiAgICBjb25zdCBjYXJkcyA9IG5ldyBTZWN0aW9uKHtcclxuICAgICAgaXRlbXM6IGluaXRpYWxDYXJkcyxcclxuICAgICAgcmVuZGVyZXI6IChjYXJkRGF0YSkgPT4ge1xyXG4gICAgICAgIGNhcmRzLmFkZEl0ZW0oY3JlYXRlQ2FyZChjYXJkRGF0YSkpO1xyXG4gICAgICB9LFxyXG4gICAgfSxcclxuICAgICAgXCIuZWxlbWVudHNfX2NvbnRhaW5lclwiLFxyXG4gICAgKTtcclxuICAgIGNhcmRzLnJlbmRlcmVyKCk7XHJcblxyXG5cclxuICAgIC8vIENyZWF0ZSBhIG5ldyBjYXJkXHJcbiAgICBjb25zdCBlZGl0SW1hZ2VGb3JtID0gbmV3IFBvcHVwV2l0aEZvcm0oe1xyXG4gICAgICBwb3B1cFNlbGVjdG9yOiBcIi5tb2RhbF90eXBlX2NyZWF0ZVwiLFxyXG4gICAgICBmb3JtU3VibWl0OiAodmFsdWVzKSA9PiB7XHJcbiAgICAgICAgYXBpLmFkZENhcmQoeyBuYW1lOiB2YWx1ZXMudGl0bGVJbnB1dCwgbGluazogdmFsdWVzLmltYWdlTGlua0lucHV0IH0pXHJcbiAgICAgICAgICAudGhlbihjYXJkRGF0YSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGNhcmRFbGVtZW50ID0gY3JlYXRlQ2FyZChjYXJkRGF0YSk7XHJcbiAgICAgICAgICAgIGNhcmRzLmFkZEl0ZW0oY2FyZEVsZW1lbnQpO1xyXG4gICAgICAgICAgICBlZGl0SW1hZ2VGb3JtLmNsb3NlTW9kYWwoKTtcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgICAuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIGNvbnN0IGVkaXRQcm9maWxlRm9ybSA9IG5ldyBQb3B1cFdpdGhGb3JtKHtcclxuICAgICAgcG9wdXBTZWxlY3RvcjogXCIubW9kYWxfdHlwZV9lZGl0XCIsXHJcbiAgICAgIGZvcm1TdWJtaXQ6ICh2YWx1ZXMpID0+IHtcclxuICAgICAgICBhcGkuZWRpdFByb2ZpbGUoeyBuYW1lOiB2YWx1ZXMucHJvZmlsZU5hbWVJbnB1dCwgYWJvdXQ6IHZhbHVlcy5wcm9maWxlT2NjdXBhdGlvbklucHV0IH0pXHJcbiAgICAgICAgICAudGhlbigodmFsdWVzKSA9PiB7XHJcbiAgICAgICAgICAgIHByb2ZpbGVJbmZvLnNldFVzZXJJbmZvKHZhbHVlcyk7XHJcbiAgICAgICAgICAgIGVkaXRQcm9maWxlRm9ybS5jbG9zZU1vZGFsKCk7XHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICAvL01vZGFsIHRvIGNvbmZpcm0gYmVmb3JlIGRlbGV0aW5nIGltYWdlXHJcbiAgICBjb25zdCBjb25maXJtRGVsZXRlTW9kYWwgPSBuZXcgUG9wdXBDb25maXJtRGVsZXRlKHtcclxuICAgICAgcG9wdXBTZWxlY3RvcjogXCIubW9kYWxfdHlwZV9kZWxldGVcIixcclxuICAgICAgZm9ybVN1Ym1pdDogKGNhcmQsIGNhcmRJZCkgPT4ge1xyXG4gICAgICAgIGFwaS5kZWxldGVDYXJkKGNhcmRJZClcclxuICAgICAgICAudGhlbigoKSA9PiB7XHJcbiAgICAgICAgICBjYXJkLnJlbW92ZShjYXJkSWQpO1xyXG4gICAgICAgICAgY29uZmlybURlbGV0ZU1vZGFsLmNsb3NlTW9kYWwoKTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICBcclxuXHJcbiAgICBmdW5jdGlvbiBjcmVhdGVDYXJkKGNhcmREYXRhKSB7XHJcbiAgICAgIGNvbnN0IG5ld0NhcmQgPSBuZXcgQ2FyZCh7XHJcbiAgICAgICAgY2FyZERhdGEsXHJcbiAgICAgICAgaGFuZGxlQ2FyZENsaWNrOiAoKSA9PiB7XHJcbiAgICAgICAgICBpbWFnZVBvcHVwLm9wZW5Nb2RhbChjYXJkRGF0YS5uYW1lLCBjYXJkRGF0YS5saW5rKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGhhbmRsZURlbGV0ZUNhcmRDbGljazogKGV2dCkgPT4ge1xyXG4gICAgICAgICAgICBjb25maXJtRGVsZXRlTW9kYWwub3Blbk1vZGFsKGV2dCwgbmV3Q2FyZC5faWQpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgaGFuZGxlTGlrZUNhcmRDbGljazogKGxpa2VCdXR0b24sIGNhcmRJZCkgPT4ge1xyXG4gICAgICAgICAgaWYobGlrZUJ1dHRvbi5jbGFzc0xpc3QuY29udGFpbnMoXCJlbGVtZW50c19fbGlrZV9hY3RpdmVcIikpIHtcclxuICAgICAgICAgICAgYXBpLnJlbW92ZUxpa2UoY2FyZElkKVxyXG4gICAgICAgICAgICAgIC50aGVuKHJlcyA9PiB7XHJcbiAgICAgICAgICAgICAgICBuZXdDYXJkLmRpc3BsYXlUb3RhbExpa2VzKHJlcy5saWtlcy5sZW5ndGgpO1xyXG4gICAgICAgICAgICAgICAgbmV3Q2FyZC50b2dnbGVMaWtlQnV0dG9uKGxpa2VCdXR0b24pO1xyXG4gICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7XHJcbiAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBhcGkuYWRkTGlrZShjYXJkSWQpXHJcbiAgICAgICAgICAgICAgLnRoZW4ocmVzID0+IHtcclxuICAgICAgICAgICAgICAgIG5ld0NhcmQuZGlzcGxheVRvdGFsTGlrZXMocmVzLmxpa2VzLmxlbmd0aCk7XHJcbiAgICAgICAgICAgICAgICBuZXdDYXJkLnRvZ2dsZUxpa2VCdXR0b24obGlrZUJ1dHRvbik7XHJcbiAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTtcclxuICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIHVzZXJJZDogcHJvZmlsZUluZm8udXNlcklkLFxyXG4gICAgICAgIGNhcmRUZW1wbGF0ZVNlbGVjdG9yOiBcIi5jYXJkLXRlbXBsYXRlXCIsXHJcbiAgICAgIH0pXHJcbiAgICAgIGNvbnN0IGNhcmRFbGVtZW50ID0gbmV3Q2FyZC5nZW5lcmF0ZUNhcmQoKTtcclxuICAgICAgcmV0dXJuIGNhcmRFbGVtZW50O1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICAvL0VESVQgUFJPRklMRSBQSUMvQVZBVEFSXHJcbiAgICBjb25zdCBlZGl0QXZhdGFyTW9kYWwgPSBuZXcgUG9wdXBXaXRoRm9ybSh7XHJcbiAgICAgIHBvcHVwU2VsZWN0b3I6IFwiLm1vZGFsX3R5cGVfYXZhdGFyXCIsXHJcbiAgICAgIGZvcm1TdWJtaXQ6ICh2YWx1ZXMpID0+IHtcclxuICAgICAgICBhcGkuZWRpdEF2YXRhcih7IGF2YXRhcjogdmFsdWVzLmF2YXRhcklucHV0IH0pXHJcbiAgICAgICAgICAudGhlbigodmFsdWVzKSA9PiB7XHJcbiAgICAgICAgICAgIHByb2ZpbGVJbmZvLnNldFVzZXJJbmZvKHsgbmFtZTogdmFsdWVzLm5hbWUsIGFib3V0OiB2YWx1ZXMuYWJvdXQsIGF2YXRhcjogdmFsdWVzLmF2YXRhciB9KTtcclxuICAgICAgICAgICAgZWRpdEF2YXRhck1vZGFsLmNsb3NlTW9kYWwoKTtcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgICAuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIC8vTW9kYWwgdG8gcHJldmlldyBpbWFnZXNcclxuICAgIGNvbnN0IGltYWdlUG9wdXAgPSBuZXcgUG9wdXBXaXRoSW1hZ2UoXCIubW9kYWxfdHlwZV9wcmV2aWV3XCIpO1xyXG5cclxuXHJcbiAgICAvL0V2ZW50IGxpc3RlbmVyc1xyXG4gICAgZWRpdEltYWdlRm9ybS5zZXRFdmVudExpc3RlbmVycygpO1xyXG4gICAgZWRpdFByb2ZpbGVGb3JtLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgICBlZGl0QXZhdGFyTW9kYWwuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICAgIGNvbmZpcm1EZWxldGVNb2RhbC5zZXRFdmVudExpc3RlbmVycygpO1xyXG4gICAgaW1hZ2VQb3B1cC5zZXRFdmVudExpc3RlbmVycygpO1xyXG4gICAgXHJcblxyXG4gICAgZWRpdEF2YXRhckJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkge1xyXG4gICAgICBlZGl0QXZhdGFyTW9kYWwub3Blbk1vZGFsKCk7XHJcbiAgICAgIGF2YXRhckZvcm1WYWxpZGF0b3IucmVzZXRWYWxpZGF0aW9uKCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBhZGRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgZWRpdEltYWdlRm9ybS5vcGVuTW9kYWwoKTtcclxuICAgICAgYWRkTmV3Rm9ybVZhbGlkYXRvci5yZXNldFZhbGlkYXRpb24oKTtcclxuICAgIH0pO1xyXG5cclxuICAgIHByb2ZpbGVFZGl0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIGVkaXRQcm9maWxlRm9ybS5vcGVuTW9kYWwoKTtcclxuICAgICAgY29uc3QgeyBuYW1lLCBhYm91dCB9ID0gcHJvZmlsZUluZm8uZ2V0VXNlckluZm8oKTtcclxuICAgICAgZm9ybU5hbWUudmFsdWUgPSBuYW1lO1xyXG4gICAgICBmb3JtQWJvdXQudmFsdWUgPSBhYm91dDtcclxuICAgICAgZWRpdEZvcm1WYWxpZGF0b3IucmVzZXRWYWxpZGF0aW9uKCk7XHJcbiAgICB9KVxyXG5cclxuXHJcbiAgfSlcclxuICAuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgY29uc29sZS5sb2coZXJyKTtcclxuICB9KVxyXG5cclxuICBcclxuXHJcblxyXG5cclxuZXhwb3J0IHsgcHJvZmlsZU5hbWUsIHByb2ZpbGVBYm91dCB9OyJdLCJzb3VyY2VSb290IjoiIn0=